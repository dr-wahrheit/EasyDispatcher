<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>EasyDispatcher - TEST</title>
    <!-- Load libraries  end -->
</head>

<body>
    <h1>EasyDispatcher - TEST</h1>
    <button class="btn-test" type="button">Button 1</button>
    <button class="btn-test" type="button">Button 2</button>
    <button class="btn-test" type="button">Button 3</button>
    <p id="messages"></p>


    <!-- Load our package and test files start -->
    <script src="../lib/EasyDispatcher.js"></script>
    <script>
        var easyDispatcher;
        var messagesBox = document.getElementById('messages');
        var btnTest = document.getElementById('btnTest');

        window.onload = function() {
            easyDispatcher = new EasyDispatcher();
            easyDispatcher.on('btn-clicked', function(e) {
                messagesBox.innerHTML += (new Date()).getTime() + ' . button text: ' + e.target.innerText + '<br />';
            });


            Array.from(document.getElementsByClassName('btn-test')).forEach(function(element) {
                element.addEventListener('click', function(e) {
                    easyDispatcher.trigger('btn-clicked', e)
                });
            }, this);
        }
    </script>
</body>

</html>